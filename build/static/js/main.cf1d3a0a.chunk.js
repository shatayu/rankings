(this.webpackJsonpnflranker=this.webpackJsonpnflranker||[]).push([[0],{12:function(e,t,n){e.exports={pair:"Pair_pair__1uvFo",element:"Pair_element__2OFIl"}},13:function(e,t,n){e.exports={container:"Ranker_container__2JUBj",progressIndicator:"Ranker_progressIndicator__1t-CV"}},2:function(e,t,n){e.exports={container:"Input_container__28Gjd",textboxContainer:"Input_textboxContainer__2T9WY",textbox:"Input_textbox__1NzHg",buttonContainer:"Input_buttonContainer__1mUlt",button:"Input_button__3BVPK",disabledButton:"Input_disabledButton__2a1xB",enabledButton:"Input_enabledButton__2WV2x",entryContainer:"Input_entryContainer__3nS9O",entry:"Input_entry__3TZ3X",svgIcon:"Input_svgIcon__LjQkP"}},31:function(e,t,n){},4:function(e,t){e.exports={BETTER:1,WORSE:0,NOT_COMPARED:-1}},53:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(25),i=n.n(r),s=(n(31),n(3)),o=n(10),u=n(16),l=n(4),j=n.n(l);function b(e,t,n){return n[e][t]!==j.a.NOT_COMPARED}function h(e,t,n){return n[e][t]===j.a.BETTER}var d=n(12),f=n.n(d),v=n(0);function O(e){var t=e.a,n=e.b,a=e.onSelection,c=Math.random()<.5,r=c?t:n,i=c?n:t;return Object(v.jsxs)("div",{className:f.a.pair,children:[Object(v.jsx)(x,{rendered:r,other:i,onSelection:a}),Object(v.jsx)(x,{rendered:i,other:r,onSelection:a})]})}function x(e){var t=e.rendered,n=e.other,a=e.onSelection;return Object(v.jsx)("span",{className:f.a.element,value:t,onClick:function(){return a(t,n)},children:String(t)})}function p(e){var t={};return e.forEach((function(n){t[n]={},e.forEach((function(e){t[n][e]=j.a.NOT_COMPARED}))})),t}var m=n(13),_=n.n(m);function g(e){var t=e.entries,n=e.onFinish,c=Object(a.useState)([]),r=Object(s.a)(c,2),i=r[0],l=r[1],d=Object(a.useState)(p(t)),f=Object(s.a)(d,2),x=f[0],m=f[1],g=Object(a.useState)(p(t)),E=Object(s.a)(g,2),w=E[0],C=E[1],B=Object(a.useState)(null),k=Object(s.a)(B,2),R=k[0],N=k[1],I=Object(a.useState)(1),T=Object(s.a)(I,2),M=T[0],y=T[1],z=Object(a.useState)(!1),F=Object(s.a)(z,2),P=F[0],A=F[1],J=Object(a.useCallback)((function(e,t){var n=Object(u.a)({},w);n[e][t]=j.a.BETTER,n[t][e]=j.a.WORSE,C(w)}),[w]),W=Object(a.useCallback)((function(e,n){var a=Object(u.a)({},x);a[e][n]=j.a.BETTER,a[n][e]=j.a.WORSE,a=function(e,t){var n=p(t);for(var a in e)for(var c in e)n[a][c]=e[a][c];for(var r in e)for(var i in e)for(var s in e)n[i][s]=n[i][s]===j.a.BETTER||n[i][r]===j.a.BETTER&&n[r][s]===j.a.BETTER?j.a.BETTER:e[i][s];return n}(a,t),m(a)}),[t,x]),L=Object(a.useCallback)((function(e,t){J(e,t),W(e,t),l([].concat(Object(o.a)(i),[[e,t]])),y(M+1)}),[M,i,J,W]);return Object(a.useEffect)((function(){var e=function(e,t){for(var n=e.slice(),a=n.length,c=new Array(a),r=1;r<a;r*=2){for(var i=0;i<a;i+=2*r){for(var s=i,o=Math.min(s+r,a),u=o,l=Math.min(o+r,a),j=s;s<u&&o<l;){if(!b(n[s],n[o],t))return{array:n,nextQuestion:[n[s],n[o]]};h(n[s],n[o],t)?c[j++]=n[s++]:c[j++]=n[o++]}for(;s<u;)c[j++]=n[s++];for(;o<l;)c[j++]=n[o++]}var d=n;n=c,c=d}return{array:n,nextQuestion:null}}(t,x),a=e.array,c=e.nextQuestion;null!=c?N(Object(v.jsx)(O,{a:c[0],b:c[1],onSelection:L})):(A(!0),n(w,a,i))}),[x,M,L,w,t,n,i]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:_.a.container,children:[R,Object(v.jsx)(S,{questionNumber:M,n:t.length,doneRanking:P})]})})}function S(e){var t=e.questionNumber,n=e.n;if(e.doneRanking)return null;var a=Math.ceil(Math.log2(n)),c=n*a-Math.pow(2,a)+1;return Object(v.jsxs)("div",{className:_.a.progressIndicator,children:[t," out of up to ",c]})}var E=n(8),w=n.n(E),C=n(14),B=n(2),k=n.n(B),R=n(15),N=n.n(R),I=n(26),T=n.n(I);function M(e){var t=e.onFinalizeEntries,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],i=c[1],u=Object(a.useState)([]),l=Object(s.a)(u,2),j=l[0],b=l[1],h=Object(a.useState)(!1),d=Object(s.a)(h,2),f=d[0],O=d[1];Object(a.useEffect)((function(){function e(){return(e=Object(C.a)(w.a.mark((function e(){var t,n,a,c,r,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=window.location.href.substr(window.location.href.lastIndexOf("/")+1)).length>0)){e.next=8;break}return r="https://3ocshrauf1.execute-api.us-west-1.amazonaws.com/lists/"+t,e.next=5,N.a.get(r);case 5:i=e.sent,s=null!==(n=null===(a=i.data)||void 0===a||null===(c=a.Item)||void 0===c?void 0:c.list)&&void 0!==n?n:[],b(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){f&&t(j)}),[j,f,t]);var x=Object(a.useCallback)((function(e,t){e.preventDefault();var n=t.replace(" ","");!j.map((function(e){return e.replace(" ","")})).includes(n)&&n.length>0&&(b([].concat(Object(o.a)(j),[t])),i(""))}),[j]);return Object(v.jsxs)("div",{className:k.a.container,children:[Object(v.jsx)("div",{className:k.a.textboxContainer,children:Object(v.jsx)("form",{onSubmit:function(e){return x(e,r)},children:Object(v.jsx)("label",{children:Object(v.jsx)("input",{type:"text",value:r,className:k.a.textbox,placeholder:"Enter item here",onChange:function(e){i(e.target.value)}})})})}),Object(v.jsxs)("div",{className:k.a.buttonContainer,children:[Object(v.jsx)("div",{className:j.length>0?k.a.button+" "+k.a.enabledButton:k.a.button+" "+k.a.disabledButton,onClick:function(){b([])},children:Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z"})})}),Object(v.jsx)("div",{className:j.length>1?k.a.button+" "+k.a.enabledButton:k.a.button+" "+k.a.disabledButton,onClick:Object(C.a)(w.a.mark((function e(){var t,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://3ocshrauf1.execute-api.us-west-1.amazonaws.com/lists",t={question:"",list:j},e.next=4,N.a.put("https://3ocshrauf1.execute-api.us-west-1.amazonaws.com/lists",t);case 4:n=e.sent,a=window.location.href.substr(0,window.location.href.lastIndexOf("/"))+"/",T()(a+n.data.new_id);case 7:case"end":return e.stop()}}),e)}))),children:Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z"})})}),Object(v.jsx)("div",{className:r.length>0&&!j.map((function(e){return e.replace(" ","")})).includes(r.replace(" ",""))?k.a.button+" "+k.a.enabledButton:k.a.button+" "+k.a.disabledButton,onClick:function(e){return x(e,r)},children:Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})})}),Object(v.jsx)("div",{className:j.length>1||r.length>0&&j.length>0?k.a.button+" "+k.a.enabledButton:k.a.button+" "+k.a.disabledButton,onClick:function(e){j.map((function(e){return e.replace(" ","")})).includes(r.replace(" ",""))||(r.length>0?(x(e,r),O(!0)):j.length>1&&O(!0))},children:Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"})})})]}),Object(v.jsx)("div",{className:k.a.entryContainer,children:j.map((function(e,t){return Object(v.jsx)(y,{value:e,onRemove:function(){b(j.filter((function(t){return t!==e})))}},t)}))})]})}function y(e){var t=e.value,n=e.onRemove;return Object(v.jsxs)("div",{className:k.a.entry,children:[t,Object(v.jsx)(z,{onRemove:n})]})}function z(e){var t=e.onRemove;return Object(v.jsx)("svg",{className:k.a.svgIcon,onClick:t,viewBox:"0 0 20 20",children:Object(v.jsx)("path",{d:"M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z"})})}var F=n(6),P=n.n(F);function A(e){var t=e.results,n=e.graph,c=e.questionsAsked,r=Object(a.useState)([]),i=Object(s.a)(r,2),o=i[0],u=i[1],l=Object(a.useState)([]),j=Object(s.a)(l,2),b=j[0],d=j[1],f=Object(a.useCallback)((function(e){var a=o.slice();if(a.includes(e))if(2===a.length){var r=a[0]===e?a[1]:a[0];u([r]),d([])}else u([]),d([]);else if(a.length>1&&a.pop(),a.push(e),u(a),2===a.length){var i=t.indexOf(a[0]),s=t.indexOf(a[1]),l=Math.min(i,s),j=Math.max(i,s),b=function(e,t,n){var a={};for(var c in e)a[c]=!1;a[t]=!0;for(var r={source:null},i=[t],s=function(){var t=i.shift(),n=[];for(var c in e[t])!a[c]&&h(t,c,e)&&n.push(c);n.forEach((function(e){r[e]=t,a[e]=!0,i.push(e)}))};i.length>0;)s();for(var o=[],u=n;null!=u;)o.push(u),u=r[u];return o.reverse(),o}(n,t[l],t[j]);if(b.length>1){for(var f=[],O=function(e){var t=b[e],n=b[e+1],a=-1;c.forEach((function(e,c){(e[0]===t&&e[1]===n||e[0]===n&&e[1]===t)&&(a=c)}));var r="(Q"+String(a+1)+") You said "+t+" is better than "+n,i=Object(v.jsx)("div",{children:r},e);f.push(i)},x=0;x<b.length-1;++x)O(x);d(f)}}}),[n,c,t,o]),O=Object(v.jsx)("span",{className:P.a.fillerJustification,children:"Click any pair of terms to learn why one's higher than the other"});return Object(v.jsxs)("div",{className:P.a.container,children:[Object(v.jsx)("div",{style:{textAlign:"center"},children:t.map((function(e,t){return Object(v.jsx)(J,{value:e,onSelection:f,isSelected:o.includes(e)},t)}))}),Object(v.jsx)("div",{className:P.a.justification,children:b.length>0?b:O})]})}function J(e){var t=e.value,n=e.onSelection,a=e.isSelected?P.a.element+" "+P.a.selectedElement:P.a.element;return Object(v.jsx)("div",{className:a,onClick:function(){return n(t)},children:t})}var W=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),i=Object(s.a)(r,2),o=i[0],u=i[1],l=Object(a.useState)([]),j=Object(s.a)(l,2),b=j[0],h=j[1],d=Object(a.useState)([]),f=Object(s.a)(d,2),O=f[0],x=f[1],p=Object(a.useState)(0),m=Object(s.a)(p,2),_=m[0],S=m[1],E=[Object(v.jsx)(M,{onFinalizeEntries:function(e){c(e),S(_+1)}},0),Object(v.jsx)(g,{entries:n,onFinish:function(e,t,n){u(e),h(t),x(n),S(_+1)}},1),Object(v.jsx)(A,{graph:o,results:b,questionsAsked:O},2)];return Object(v.jsx)("div",{style:{backgroundColor:"#111111"},children:E[_]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root")),L()},6:function(e,t,n){e.exports={container:"Results_container__1V5Wh",justification:"Results_justification__2wW9v",fillerJustification:"Results_fillerJustification__17IxO",element:"Results_element__28VKJ",selectedElement:"Results_selectedElement__2svSd"}}},[[53,1,2]]]);
//# sourceMappingURL=main.cf1d3a0a.chunk.js.map